<template>
  <div class="waline-wrapper">
    <div id="waline-comment"></div>
  </div>
</template>

<script setup lang="ts">
import { onMounted, onBeforeUnmount } from 'vue'

onMounted(() => {
  // åŠ¨æ€åŠ è½½ Waline CSS
  const link = document.createElement('link')
  link.rel = 'stylesheet'
  link.href = 'https://unpkg.com/@waline/client@v2/dist/waline.css'
  document.head.appendChild(link)

  // åŠ¨æ€åŠ è½½å¹¶åˆå§‹åŒ– Waline
  import('https://unpkg.com/@waline/client@v2/dist/waline.mjs').then(({ init }) => {
    init({
      el: '#waline-comment',
      serverURL: 'https://company-waline.vercel.app', // Waline æœåŠ¡å™¨åœ°å€
      placeholder: 'ğŸ’¬ åŒ¿åçˆ†æ–™...ï¼ˆè¯·æ³¨æ„å»é™¤å›¾ç‰‡ä¸­çš„éšç§æ°´å°ï¼‰',
      dark: 'auto',
      locale: {
        placeholder: 'åŒ¿åçˆ†æ–™...',
        sofa: 'å¿«æ¥æˆä¸ºç¬¬ä¸€ä¸ªçˆ†æ–™çš„äººå§~',
        submit: 'æäº¤',
        admin: 'ç®¡ç†å‘˜',
        sticky: 'ç½®é¡¶',
        word: 'å­—',
        wordHint: 'è¯„è®ºå­—æ•°åº”åœ¨ $0 åˆ° $1 å­—ä¹‹é—´ï¼\nå½“å‰å­—æ•°ï¼š$2',
        anonymous: 'åŒ¿å',
        login: 'ç™»å½•ï¼ˆå¯é€‰ï¼‰',
        logout: 'é€€å‡º',
        profile: 'ä¸ªäººèµ„æ–™',
        approved: 'é€šè¿‡',
        waiting: 'å¾…å®¡æ ¸',
        spam: 'åƒåœ¾',
        unsticky: 'å–æ¶ˆç½®é¡¶',
        delete: 'åˆ é™¤',
        edit: 'ç¼–è¾‘',
        reply: 'å›å¤',
        cancelReply: 'å–æ¶ˆå›å¤',
        comment: 'è¯„è®º',
        refresh: 'åˆ·æ–°',
        more: 'åŠ è½½æ›´å¤š...',
        preview: 'é¢„è§ˆ',
        emoji: 'è¡¨æƒ…',
        uploadImage: 'ä¸Šä¼ å›¾ç‰‡',
        seconds: 'ç§’å‰',
        minutes: 'åˆ†é’Ÿå‰',
        hours: 'å°æ—¶å‰',
        days: 'å¤©å‰',
        now: 'åˆšåˆš',
        uploading: 'ä¸Šä¼ ä¸­',
        login_title: 'ç™»å½•æŸ¥çœ‹æ›´å¤šåŠŸèƒ½',
        password: 'å¯†ç ',
        password_again: 'å†æ¬¡è¾“å…¥å¯†ç ',
        register: 'æ³¨å†Œ',
        back: 'è¿”å›',
        guest: 'æ¸¸å®¢'
      },
      meta: ['nick'],
      requiredMeta: [],
      pageSize: 10,
      copyright: false,
      reaction: true
    })
  })
})
</script>

<style scoped>
.waline-wrapper {
  margin: 2rem auto;
  max-width: 1200px;
  padding: 0 1.5rem;
}

@media (max-width: 768px) {
  .waline-wrapper {
    padding: 0 1rem;
  }
}
</style>
